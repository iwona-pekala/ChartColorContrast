<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Chart Color Contrast Checker</title>
  <!-- Link to External CSS -->
  <link rel="stylesheet" href="styles.css">
</head>

<body>
  <!-- New Parent Container -->
  <div id="mainContainer">
    <!-- Existing Wrapper -->
    <div id="wrapper">
      <h1>Chart Color Contrast Checker</h1>

      <!-- Add this new section right after the h1 -->
      <div class="status-indicators" aria-hidden="true">
        <span class="status-badge pass" id="status1"></span>
        <span class="status-badge pass" id="status2"></span>
        <span class="status-badge fail" id="status3"></span>
      </div>

      <div class="fieldsets-container" role="region" aria-label="Color settings">
        <!-- Fieldset: Background Color -->
        <fieldset>
          <legend>Background Color</legend>
          <div id="colorwrapper">
            <input type="color" id="bgColor" value="#ffffff" aria-label="Color picker" />
            <input type="text" id="bgColorText" value="#ffffff" aria-label="Hex color" />
          </div>
          <div id="lightnesswrapper">
            <label for="bgLightness" class="lightnesslabel">Lightness</label>
            <input type="range" id="bgLightness" min="0" max="100" value="100" />
          </div>
        </fieldset>

        <!-- Fieldset: Dataset 1 -->
        <fieldset>
          <legend>Dataset 1 Color</legend>
          <div id="colorwrapper">
            <input type="color" id="chartColor1" value="#ff3838" aria-label="Color picker" />
            <input type="text" id="chartColor1Text" value="#ff3838" aria-label="Hex color" />
          </div>
          <div id="lightnesswrapper">
            <label for="chartLightness1" class="lightnesslabel">Lightness</label>
            <input type="range" id="chartLightness1" min="0" max="100" value="100" />
          </div>
        </fieldset>

        <!-- Fieldset: Dataset 2 -->
        <fieldset>
          <legend>Dataset 2 Color</legend>
          <div id="colorwrapper">
            <input type="color" id="chartColor2" value="#0707cf" aria-label="Color picker" />
            <input type="text" id="chartColor2Text" value="#0707cf" aria-label="Hex color" />
          </div>
          <div id="lightnesswrapper">
            <label for="chartLightness2" class="lightnesslabel">Lightness</label>
            <input type="range" id="chartLightness2" min="0" max="100" value="100" />
          </div>
        </fieldset>
      </div>

      <!-- Contrast Results -->
      <div class="contrast-result" id="contrastResults" role="region" aria-label="Contrast results">
        <!-- Contrast boxes will be dynamically inserted here -->
      </div>

      <!-- Two charts, side by side -->
      <div class="charts-row" role="region" aria-label="Charts">
        <!-- Bar Chart -->
        <div class="chart-preview" role="img" aria-label="Sample bar chart demonstrating selected color combinations">
          <canvas id="chartCanvas" width="400" height="200"></canvas>
          <div class="chart-legend" id="barChartLegend" aria-hidden="true">
            <!-- Legend items will be dynamically inserted here -->
          </div>
        </div>

        <!-- Line Chart -->
        <div class="chart-preview" role="img" aria-label="Sample line chart visualizing selected color combinations">
          <canvas id="lineChartCanvas" width="400" height="200"></canvas>
          <div class="chart-legend" id="lineChartLegend" aria-hidden="true">
            <!-- Legend items will be dynamically inserted here -->
          </div>
        </div>
      </div>
    </div>

    <aside id="aside">
      <div id="explanation">
        <h2>Checker's purpose</h2>
        <p>
          When displaying data on a chart, WCAG SC 1.4.1 requires a visual indicator other than color (e.g., patterns for bar charts or line styles for line charts) to differentiate datasets. 
        </p>
        <p>
          If only colors are used, datasets must have a contrast ratio of at least 3:1 against each other. 
        </p>
        <p>
          Additionally, each dataset's color must have a contrast ratio of at least 3:1 against the background to meet WCAG SC 1.4.11.
        </p>
      </div>
      <div id="permalink">
      <a href="">Permalink</a>
      </div>
    </aside>
  </div>

  <!-- Link to External JavaScript -->
  <script src="script.js"></script>

  <div class="visually-hidden">
    <div id="status-live-1" aria-live="polite"></div>
    <div id="status-live-2" aria-live="polite"></div>
    <div id="status-live-3" aria-live="polite"></div>
  </div>
</body>

</html>